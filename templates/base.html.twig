<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}SkillSwap{% endblock %} | Échangez vos compétences</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
        
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('build/app.css') }}">
            <style>
                /* Styles additionnels pour un look premium */
                .glass-effect {
                    background: rgba(255, 255, 255, 0.1);
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.18);
                }
                .premium-shadow {
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
                }
                .gradient-text {
                    background: linear-gradient(135deg, #1E3A8A 0%, #0D9488 100%);
                    -webkit-background-clip: text;
                    background-clip: text;
                    -webkit-text-fill-color: transparent;
                    color: transparent;
                }
            </style>
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
            <script defer>
                // Script pour le menu mobile
                document.addEventListener('DOMContentLoaded', function() {
                    const mobileMenuButton = document.getElementById('mobile-menu-button');
                    const mobileMenu = document.getElementById('mobile-menu');
                    
                    if (mobileMenuButton && mobileMenu) {
                        mobileMenuButton.addEventListener('click', function() {
                            mobileMenu.classList.toggle('hidden');
                        });
                    }
                });
            </script>
        {% endblock %}
    </head>
    <body class="flex flex-col min-h-screen bg-gray-50 font-['Poppins']">
        <header class="bg-gradient-to-r from-primary-900 to-primary-800 text-white shadow-lg">
            <div class="container mx-auto px-4 py-4">
                <div class="flex justify-between items-center">
                    <!-- Logo et titre du site -->
                    <div class="flex items-center space-x-2">
                        <a href="{{ path('app_home') }}" class="flex items-center group">
                            <div class="bg-white p-2 rounded-full shadow-lg transition-all duration-300 group-hover:shadow-accent-500/30">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-primary-800 group-hover:text-accent-500 transition-colors duration-300" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <span class="text-2xl font-bold ml-3 tracking-tight">Skill<span class="text-blue-400 font-extrabold">Swap</span></span>
                        </a>
                    </div>

                    <!-- Navigation desktop -->
                    <nav class="flex items-center justify-between gap-6">
                        <a href="{{ path('app_home') }}" class="text-blue-400 hover:text-accent-300 font-medium">Accueil</a>
                        <a href="{{ path('app_skill_index') }}" class="text-blue-400 hover:text-accent-300 font-medium">Compétences</a>
                        <a href="{{ path('app_exchange_index') }}" class="text-blue-400 hover:text-accent-300 font-medium">Échanges</a>
                        <a href="{{ path('app_review_index') }}" class="text-blue-400 hover:text-accent-300 font-medium">Avis</a>
                        
                        {% if is_granted('ROLE_USER') %}
                            <div class="relative group">
                                <button class="flex items-center text-blue-400 hover:text-accent-300 font-medium">
                                    <span>{{ app.user.fullName }}</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                                <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block">
                                    <a href="{{ path('app_profile') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Mon profil</a>
                                    <a href="{{ path('app_exchange_new') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Proposer un échange</a>
                                    {% if is_granted('ROLE_ADMIN') %}
                                        <a href="{{ path('admin_dashboard') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Administration</a>
                                    {% endif %}
                                    <div class="border-t border-gray-100 my-1"></div>
                                    <a href="{{ path('app_logout') }}" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">Déconnexion</a>
                                </div>
                            </div>
                        {% else %}
                            <a href="{{ path('app_login') }}" class="btn-accent">Connexion</a>
                            <a href="{{ path('app_register') }}" class="btn-outline bg-white">Inscription</a>
                        {% endif %}
                    </nav>

                    <!-- Bouton menu mobile -->
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="text-blue-400 hover:text-accent-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Menu mobile -->
                <div id="mobile-menu" class="md:hidden hidden mt-4 pb-2">
                    <div class="flex flex-col space-y-2">
                        <a href="{{ path('app_home') }}" class="text-blue-400 hover:text-accent-300 py-2 font-medium">Accueil</a>
                        <a href="{{ path('app_skill_index') }}" class="text-blue-400 hover:text-accent-300 py-2 font-medium">Compétences</a>
                        <a href="{{ path('app_exchange_index') }}" class="text-blue-400 hover:text-accent-300 py-2 font-medium">Échanges</a>
                        <a href="{{ path('app_review_index') }}" class="text-blue-400 hover:text-accent-300 py-2 font-medium">Avis</a>
                        
                        {% if is_granted('ROLE_USER') %}
                            <div class="border-t border-primary-700 my-2 pt-2">
                                <a href="{{ path('app_profile') }}" class="text-blue-400 hover:text-accent-300 py-2 block font-medium">Mon profil</a>
                                <a href="{{ path('app_exchange_new') }}" class="text-blue-400 hover:text-accent-300 py-2 block font-medium">Proposer un échange</a>
                                {% if is_granted('ROLE_ADMIN') %}
                                    <a href="{{ path('admin_dashboard') }}" class="text-blue-400 hover:text-accent-300 py-2 block font-medium">Administration</a>
                                {% endif %}
                                <a href="{{ path('app_logout') }}" class="text-red-300 hover:text-red-200 py-2 block font-medium">Déconnexion</a>
                            </div>
                        {% else %}
                            <div class="flex flex-col space-y-2 mt-2">
                                <a href="{{ path('app_login') }}" class="btn-accent text-center">Connexion</a>
                                <a href="{{ path('app_register') }}" class="btn-outline bg-white text-center">Inscription</a>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </header>

        <main class="flex-grow">
            {% block body %}{% endblock %}
        </main>

        <footer class="bg-primary-900 text-white py-8 mt-12">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-accent-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                            </svg>
                            Skill<span class="text-accent-500">Swap</span>
                        </h3>
                        <p class="text-gray-300 mb-4">Plateforme d'échange de compétences entre particuliers. Partagez votre savoir et apprenez de nouvelles compétences.</p>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Liens rapides</h4>
                        <ul class="space-y-2">
                            <li><a href="{{ path('app_home') }}" class="text-gray-300 hover:text-accent-300">Accueil</a></li>
                            <li><a href="{{ path('app_skill_index') }}" class="text-gray-300 hover:text-accent-300">Compétences</a></li>
                            <li><a href="{{ path('app_exchange_index') }}" class="text-gray-300 hover:text-accent-300">Échanges</a></li>
                            <li><a href="{{ path('app_review_index') }}" class="text-gray-300 hover:text-accent-300">Avis</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Contactez-nous</h4>
                        <ul class="space-y-2">
                            <li class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
                                </svg>
                                <a href="mailto:contact@skillswap.com" class="text-gray-300 hover:text-accent-300">contact@skillswap.com</a>
                            </li>
                            <li class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 2a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12z" clip-rule="evenodd" />
                                    <path fill-rule="evenodd" d="M10 4a.75.75 0 01.75.75v4.69l3.22 1.79a.75.75 0 11-.73 1.31l-3.5-2A.75.75 0 019 10V4.75A.75.75 0 0110 4z" clip-rule="evenodd" />
                                </svg>
                                <span class="text-gray-300">Lun-Ven: 9h-18h</span>
                            </li>
                        </ul>
                        <div class="flex space-x-4 mt-4">
                            <a href="#" class="text-gray-300 hover:text-accent-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/>
                                </svg>
                            </a>
                            <a href="#" class="text-gray-300 hover:text-accent-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.054 10.054 0 01-3.127 1.184 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                                </svg>
                            </a>
                            <a href="#" class="text-gray-300 hover:text-accent-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.441 16.892c-2.102.144-6.784.144-8.883 0C5.282 16.736 5.017 15.622 5 12c.017-3.629.285-4.736 2.558-4.892 2.099-.144 6.782-.144 8.883 0C18.718 7.264 18.982 8.378 19 12c-.018 3.629-.285 4.736-2.559 4.892zM10 9.658l4.917 2.338L10 14.342V9.658z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="border-t border-primary-700 mt-8 pt-6 text-center text-sm text-gray-400">
                    <p>&copy; {{ 'now'|date('Y') }} SkillSwap. Tous droits réservés.</p>
                </div>
            </div>
        </footer>
    </body>
</html>
